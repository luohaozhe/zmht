import{_ as y,u as c}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-5ca0a43d.js";import{_ as E}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-dd9de32f.js";import{a as B,b as k,c as v,d as p,r as D}from"./user-722e2f60.js";import{d as m,r as A,a as T,o as $,c as x,b as s,w as l,u as n,ao as L,ap as S,aq as d,ar as N,f as i,K as U}from"./index-702e1de5.js";import"./notData-dc08789c.js";import"./_plugin-vue_export-helper-361d09b5.js";import"./ImgMultiple-098061e5.js";import"./upload-e2c9b8a7.js";const P={class:"table-box"},q=i("\u5168\u9009 / \u5168\u4E0D\u9009"),R=i("\u9009\u4E2D\u7B2C\u4E09\u884C"),V=i(" \u6279\u91CF\u5220\u9664\u7528\u6237 "),H=i("\u91CD\u7F6E\u5BC6\u7801"),M=i("\u5220\u9664"),j=m({name:"complexProTable"}),Y=m({...j,setup(G){const t=A(),_=[{type:"selection",fixed:"left",width:80},{type:"index",label:"#",width:80},{prop:"base",label:"\u57FA\u672C\u4FE1\u606F",_children:[{prop:"username",label:"\u7528\u6237\u59D3\u540D"},{prop:"user.detail.age",label:"\u5E74\u9F84",width:100},{prop:"gender",label:"\u6027\u522B",width:100,enum:B,fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"details",label:"\u8BE6\u7EC6\u8D44\u6599",_children:[{prop:"idCard",label:"\u8EAB\u4EFD\u8BC1\u53F7"},{prop:"email",label:"\u90AE\u7BB1"},{prop:"address",label:"\u5C45\u4F4F\u5730\u5740"}]}]},{prop:"status",label:"\u7528\u6237\u72B6\u6001",tag:!0,enum:k,fieldNames:{label:"userLabel",value:"userStatus"}},{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",width:200},{prop:"operation",label:"\u64CD\u4F5C",fixed:"right",width:230}],b=()=>{t.value.element.setCurrentRow(t.value.tableData[2])},f=e=>{const{columns:a}=e,u=[];return a.forEach((r,o)=>{if(o===0)return u[o]="\u5408\u8BA1";u[o]="N/A"}),u},C=({rowIndex:e,columnIndex:a})=>{if(a===3)return e%2===0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}},h=(e,a)=>{a.property!="operation"&&U.success("\u5F53\u524D\u884C\u88AB\u70B9\u51FB\u4E86\uFF01")},w=async e=>{await c(p,{id:[e.id]},`\u5220\u9664\u3010${e.username}\u3011\u7528\u6237`),t.value.getTableList()},F=async e=>{await c(p,{id:e},"\u5220\u9664\u6240\u9009\u7528\u6237\u4FE1\u606F"),t.value.clearSelection(),t.value.getTableList()},g=async e=>{await c(D,{id:e.id},`\u91CD\u7F6E\u3010${e.username}\u3011\u7528\u6237\u5BC6\u7801`),t.value.getTableList()};return(e,a)=>{const u=T("el-button");return $(),x("div",P,[s(y,{ref_key:"proTable",ref:t,title:"\u7528\u6237\u5217\u8868","highlight-current-row":"",columns:_,requestApi:n(v),"span-method":C,"show-summary":!0,"summary-method":f,onRowClick:h},{tableHeader:l(r=>[s(u,{type:"primary",icon:n(L),onClick:a[0]||(a[0]=o=>t.value.element.toggleAllSelection())},{default:l(()=>[q]),_:1},8,["icon"]),s(u,{type:"primary",icon:n(S),plain:"",onClick:b},{default:l(()=>[R]),_:1},8,["icon"]),s(u,{type:"danger",icon:n(d),plain:"",onClick:o=>F(r.selectedListIds),disabled:!r.isSelected},{default:l(()=>[V]),_:2},1032,["icon","onClick","disabled"])]),operation:l(r=>[s(u,{type:"primary",link:"",icon:n(N),onClick:o=>g(r.row)},{default:l(()=>[H]),_:2},1032,["icon","onClick"]),s(u,{type:"primary",link:"",icon:n(d),onClick:o=>w(r.row)},{default:l(()=>[M]),_:2},1032,["icon","onClick"])]),_:1},8,["requestApi"]),s(E,{ref:"drawerRef"},null,512)])}}});export{Y as default};
