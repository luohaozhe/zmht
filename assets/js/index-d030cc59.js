import{d as x,a4 as F,r as f,J as H,b as a,K as d,a as u,F as M,a7 as q,o as p,c as z,w as t,a8 as y,j as h,u as n,ao as K,e as j,k as G,aq as g,f as i,t as k,aM as J,aN as O,ar as W}from"./index-702e1de5.js";import{u as m,_ as Q}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-5ca0a43d.js";import{I as X,u as Y}from"./index-8e544210.js";import{u as Z}from"./useAuthButtons-334431f0.js";import{_ as ee}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-dd9de32f.js";import{a as ae,b as te,f as se,c as re,d as C,r as le,e as T,B as ie,h as ne,i as oe}from"./user-722e2f60.js";import"./notData-dc08789c.js";import"./_plugin-vue_export-helper-361d09b5.js";import"./ImgMultiple-098061e5.js";import"./upload-e2c9b8a7.js";const ce={class:"table-box"},ue=i("\u65B0\u589E\u7528\u6237"),de=i("\u6279\u91CF\u6DFB\u52A0\u7528\u6237"),pe=i("\u5BFC\u51FA\u7528\u6237\u6570\u636E"),me=i("To \u5B50\u96C6\u8BE6\u60C5\u9875\u9762"),_e=i(" \u6279\u91CF\u5220\u9664\u7528\u6237 "),be=i("\u67E5\u770B"),fe=i("\u7F16\u8F91"),ye=i("\u91CD\u7F6E\u5BC6\u7801"),he=i("\u5220\u9664"),ke=x({name:"useProTable"}),Ae=x({...ke,setup(ve){const L=F(),$=()=>{L.push(`/proTable/useProTable/detail/${Math.random()}?params=detail-page`)},o=f(),P=H({type:1}),S=e=>({datalist:e.datalist,total:e.total,pageNum:e.pageNum,pageSize:e.pageSize}),U=e=>{let s={...e};return s.username&&(s.username="custom-"+s.username),re(s)},{BUTTONS:D}=Z(),A=[{type:"selection",fixed:"left",width:80},{type:"index",label:"#",width:80},{type:"expand",label:"Expand",width:100},{prop:"username",label:"\u7528\u6237\u59D3\u540D",search:{el:"input"},render:e=>a(u("el-button"),{type:"primary",link:!0,onClick:()=>d.success("\u6211\u662F\u901A\u8FC7 tsx \u8BED\u6CD5\u6E32\u67D3\u7684\u5185\u5BB9")},{default:()=>[e.row.username]})},{prop:"gender",label:"\u6027\u522B",enum:ae,search:{el:"select"},fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"user.detail.age",label:"\u5E74\u9F84",search:{el:"input"}},{prop:"idCard",label:"\u8EAB\u4EFD\u8BC1\u53F7",search:{el:"input"}},{prop:"email",label:"\u90AE\u7BB1"},{prop:"address",label:"\u5C45\u4F4F\u5730\u5740"},{prop:"status",label:"\u7528\u6237\u72B6\u6001",enum:te,fieldNames:{label:"userLabel",value:"userStatus"},search:{el:"tree-select",props:{props:{label:"userLabel"},nodeKey:"userStatus"}},render:e=>a(M,null,[D.value.status?a(u("el-switch"),{"model-value":e.row.status,"active-text":e.row.status?"\u542F\u7528":"\u7981\u7528","active-value":1,"inactive-value":0,onClick:()=>V(e.row)},null):a(u("el-tag"),{type:e.row.status?"success":"danger"},{default:()=>[e.row.status?"\u542F\u7528":"\u7981\u7528"]})])},{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",headerRender:e=>a(u("el-button"),{type:"primary",onClick:()=>{d.success("\u6211\u662F\u901A\u8FC7 tsx \u8BED\u6CD5\u6E32\u67D3\u7684\u8868\u5934")}},{default:()=>[e.label]}),width:200,search:{el:"date-picker",span:2,props:{type:"datetimerange"},defaultValue:["2022-11-12 11:35:00","2022-12-12 11:35:00"]}},{prop:"operation",label:"\u64CD\u4F5C",fixed:"right",width:330}],N=async e=>{await m(C,{id:[e.id]},`\u5220\u9664\u3010${e.username}\u3011\u7528\u6237`),o.value.getTableList()},B=async e=>{await m(C,{id:e},"\u5220\u9664\u6240\u9009\u7528\u6237\u4FE1\u606F"),o.value.clearSelection(),o.value.getTableList()},R=async e=>{await m(le,{id:e.id},`\u91CD\u7F6E\u3010${e.username}\u3011\u7528\u6237\u5BC6\u7801`),o.value.getTableList()},V=async e=>{await m(se,{id:e.id,status:e.status==1?0:1},`\u5207\u6362\u3010${e.username}\u3011\u7528\u6237\u72B6\u6001`),o.value.getTableList()},E=async()=>{Y(T,"\u7528\u6237\u5217\u8868",o.value.searchParam)},v=f(),I=()=>{let e={title:"\u7528\u6237",tempApi:T,importApi:ie,getTableList:o.value.getTableList};v.value.acceptParams(e)},w=f(),_=(e,s={})=>{let r={title:e,rowData:{...s},isView:e==="\u67E5\u770B",api:e==="\u65B0\u589E"?ne:e==="\u7F16\u8F91"?oe:"",getTableList:o.value.getTableList};w.value.acceptParams(r)};return(e,s)=>{const r=u("el-button"),b=q("auth");return p(),z("div",ce,[a(Q,{ref_key:"proTable",ref:o,title:"\u7528\u6237\u5217\u8868",columns:A,requestApi:U,initParam:P,dataCallback:S},{tableHeader:t(l=>[y((p(),h(r,{type:"primary",icon:n(K),onClick:s[0]||(s[0]=c=>_("\u65B0\u589E"))},{default:t(()=>[ue]),_:1},8,["icon"])),[[b,["add"]]]),y((p(),h(r,{type:"primary",icon:n(j),plain:"",onClick:I},{default:t(()=>[de]),_:1},8,["icon"])),[[b,["batchAdd"]]]),y((p(),h(r,{type:"primary",icon:n(G),plain:"",onClick:E},{default:t(()=>[pe]),_:1},8,["icon"])),[[b,["export"]]]),a(r,{type:"primary",plain:"",onClick:$},{default:t(()=>[me]),_:1}),a(r,{type:"danger",icon:n(g),plain:"",onClick:c=>B(l.selectedListIds),disabled:!l.isSelected},{default:t(()=>[_e]),_:2},1032,["icon","onClick","disabled"])]),expand:t(l=>[i(k(l.row),1)]),usernameHeader:t(l=>[a(r,{type:"primary",onClick:s[1]||(s[1]=c=>n(d).success("\u6211\u662F\u901A\u8FC7\u4F5C\u7528\u57DF\u63D2\u69FD\u6E32\u67D3\u7684\u8868\u5934"))},{default:t(()=>[i(k(l.row.label),1)]),_:2},1024)]),createTime:t(l=>[a(r,{type:"primary",link:"",onClick:s[2]||(s[2]=c=>n(d).success("\u6211\u662F\u901A\u8FC7\u4F5C\u7528\u57DF\u63D2\u69FD\u6E32\u67D3\u7684\u5185\u5BB9"))},{default:t(()=>[i(k(l.row.createTime),1)]),_:2},1024)]),operation:t(l=>[a(r,{type:"primary",link:"",icon:n(J),onClick:c=>_("\u67E5\u770B",l.row)},{default:t(()=>[be]),_:2},1032,["icon","onClick"]),a(r,{type:"primary",link:"",icon:n(O),onClick:c=>_("\u7F16\u8F91",l.row)},{default:t(()=>[fe]),_:2},1032,["icon","onClick"]),a(r,{type:"primary",link:"",icon:n(W),onClick:c=>R(l.row)},{default:t(()=>[ye]),_:2},1032,["icon","onClick"]),a(r,{type:"primary",link:"",icon:n(g),onClick:c=>N(l.row)},{default:t(()=>[he]),_:2},1032,["icon","onClick"])]),_:1},8,["initParam"]),a(ee,{ref_key:"drawerRef",ref:w},null,512),a(X,{ref_key:"dialogRef",ref:v},null,512)])}}});export{Ae as default};
